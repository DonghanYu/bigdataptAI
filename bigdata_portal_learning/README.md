# ë¹…ë°ì´í„° í¬í„¸ í•™ìŠµ ë°ì´í„° ìƒì„± í”„ë¡œê·¸ë¨

ë³´ê±´ì˜ë£Œ ë¹…ë°ì´í„° í¬í„¸ ì „ë¬¸ LLM í•™ìŠµ ë°ì´í„° ìë™ ìƒì„± ì‹œìŠ¤í…œ

## ğŸ“Š í”„ë¡œì íŠ¸ ê°œìš”

ë‘ ê°€ì§€ ë…ë¦½ì ì¸ ë¹…ë°ì´í„° í¬í„¸ì— ëŒ€í•œ ê³ í’ˆì§ˆ í•™ìŠµ ë°ì´í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

### 1. HIRA ë³´ê±´ì˜ë£Œë¹…ë°ì´í„° ì˜¤í”ˆë°ì´í„° í¬í„¸ (opendata.hira.or.kr)
- **ì´ ë°ì´í„°**: 10,500ê±´
- **ë©”ë‰´ ìˆ˜**: 7ê°œ ì£¼ìš” ë©”ë‰´
- **ì£¼ì œ ìˆ˜**: 31ê°œ ì„¸ë¶€ ì£¼ì œ
- **ìƒì„± ë°©ì‹**: ê³ ê¸‰ í…œí”Œë¦¿ ê¸°ë°˜ ë³€í˜• (10ê°€ì§€ ê¸°ë²•)

### 2. ì¼ë°˜ ë¹…ë°ì´í„°ê°œë°©í¬í„¸
- **ì´ ë°ì´í„°**: 6,525ê±´
- **ë©”ë‰´ ìˆ˜**: 8ê°œ ë©”ë‰´
- **ì£¼ì œ ìˆ˜**: 170ê°œ ì£¼ì œ
- **ìƒì„± ë°©ì‹**: í•˜ì´ë¸Œë¦¬ë“œ í…œí”Œë¦¿

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
bigdata_portal_learning/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ hira_opendata_structure.yaml    # HIRA ì˜¤í”ˆë°ì´í„° ë©”ë‰´ êµ¬ì¡° ë° ì½”ì–´ Q&A
â”‚   â”œâ”€â”€ menu_structure.yaml             # ë¹…ë°ì´í„°ê°œë°©í¬í„¸ ë©”ë‰´ êµ¬ì¡°
â”‚   â””â”€â”€ question_templates.yaml         # ë¹…ë°ì´í„°ê°œë°©í¬í„¸ ì§ˆë¬¸ í…œí”Œë¦¿
â”œâ”€â”€ generators/
â”‚   â”œâ”€â”€ hira_opendata_generator.py      # HIRA ì˜¤í”ˆë°ì´í„° ìƒì„±ê¸° â­ NEW
â”‚   â”œâ”€â”€ data_generator.py               # ë¹…ë°ì´í„°ê°œë°©í¬í„¸ ìƒì„±ê¸°
â”‚   â””â”€â”€ quality_validator.py            # í’ˆì§ˆ ê²€ì¦ê¸°
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ hira_opendata_train.jsonl                    # HIRA í•™ìŠµìš© (10,500ê±´)
â”‚   â”œâ”€â”€ hira_opendata_train.json                     # HIRA JSON ê²€í† ìš©
â”‚   â”œâ”€â”€ hira_opendata_train_with_metadata.jsonl      # HIRA ë©”íƒ€ë°ì´í„° í¬í•¨
â”‚   â”œâ”€â”€ bigdata_portal_train.jsonl                   # ì¼ë°˜ í¬í„¸ í•™ìŠµìš© (6,525ê±´)
â”‚   â””â”€â”€ bigdata_portal_train_with_metadata.json      # ì¼ë°˜ í¬í„¸ ë©”íƒ€ë°ì´í„° í¬í•¨
â”œâ”€â”€ README.md                           # ì „ì²´ í”„ë¡œì íŠ¸ ì•ˆë‚´ (ì´ íŒŒì¼)
â””â”€â”€ README_HIRA_OPENDATA.md             # HIRA ì˜¤í”ˆë°ì´í„° ìƒì„¸ ë¬¸ì„œ
```

## ğŸ¯ HIRA ì˜¤í”ˆë°ì´í„° í¬í„¸ (10,500ê±´)

### ë©”ë‰´ë³„ ë°ì´í„° ë¶„í¬

| ë©”ë‰´ | ë°ì´í„° ìˆ˜ | ë¹„ìœ¨ |
|------|----------|------|
| ğŸ¥ ì˜ë£Œí†µê³„ | 3,313ê±´ | 31.6% |
| ğŸ“š ì„œë¹„ìŠ¤ ì†Œê°œ/ê³ ê°ì§€ì› | 1,650ê±´ | 15.7% |
| ğŸ”¬ ê³µí†µë°ì´í„°ëª¨ë¸(CDM) | 1,205ê±´ | 11.5% |
| ğŸ–¼ï¸ ì˜ë£Œì˜ìƒ | 930ê±´ | 8.9% |
| ğŸ‘¥ í™˜ìí‘œë³¸ | 922ê±´ | 8.8% |
| ğŸ”— ë°ì´í„° ê²°í•© | 920ê±´ | 8.8% |
| ğŸ“Š ë§ì¶¤í˜• ì—°êµ¬ | 830ê±´ | 7.9% |
| ğŸ“ˆ ë§ì¶¤í˜• ìµëª…í†µê³„ | 730ê±´ | 7.0% |

### í¬í•¨ëœ ì£¼ìš” ì£¼ì œ

#### ì˜ë£Œí†µê³„
- ì´ì§„ë£Œë¹„ í˜„í™©, ê±´ê°•ë³´í—˜/ì˜ë£Œê¸‰ì—¬/ìë™ì°¨ë³´í—˜ ì§„ë£Œí†µê³„
- í‰ê°€ê²°ê³¼ í†µê³„, ì˜ì•½í’ˆ í˜„í™©í†µê³„, í¬ê´„ìˆ˜ê°€ì œ í†µê³„

#### í™˜ìí‘œë³¸ & ë§ì¶¤í˜• ì—°êµ¬
- í™˜ìí‘œë³¸ ì¢…ë¥˜ (ì „ì²´/ì…ì›/ê³ ë ¹/ì†Œì•„ì²­ì†Œë…„)
- ì›ê²©ë¶„ì„ ì ‘ì† (SAS-Studio, R-Studio)
- ë¹…ë°ì´í„° ë¶„ì„ì„¼í„°

#### CDM (ê³µí†µë°ì´í„°ëª¨ë¸)
- OMOP-CDM ê°œìš”, ì „êµ­ë¯¼DB/í‘œë³¸DB
- ATLAS, R íŒ¨í‚¤ì§€ ë¶„ì„ ë„êµ¬

#### ì˜ë£Œì˜ìƒ & AI
- MRI, CT, X-ray ë°ì´í„°
- GPU ì„œë²„ ê¸°ë°˜ AI ëª¨ë¸ ê°œë°œ

#### ë°ì´í„° ê²°í•© & ìµëª…í†µê³„
- ê°€ëª…ì •ë³´ ê²°í•© ì„œë¹„ìŠ¤
- ë§ì¶¤í˜• ìµëª…í†µê³„ ì œê³µ

### í’ˆì§ˆ ì§€í‘œ
- **í‰ê·  ì§ˆë¬¸ ê¸¸ì´**: 23.7ì
- **í‰ê·  ë‹µë³€ ê¸¸ì´**: 83.1ì
- **ì§ˆë¬¸ ê¸¸ì´ ë²”ìœ„**: 10~53ì
- **ë‹µë³€ ê¸¸ì´ ë²”ìœ„**: 54~130ì

### ì‚¬ìš© ë°©ë²•
```bash
cd bigdata_portal_learning
python3 generators/hira_opendata_generator.py
```

**ìƒì„¸ ë¬¸ì„œ**: [README_HIRA_OPENDATA.md](./README_HIRA_OPENDATA.md)

## ğŸ¯ ë¹…ë°ì´í„°ê°œë°©í¬í„¸ (6,525ê±´)

### ë©”ë‰´ë³„ ë°ì´í„° ë¶„í¬

| ë©”ë‰´ | ë°ì´í„° ìˆ˜ | ë¹„ìœ¨ |
|------|----------|------|
| ğŸ” ë°ì´í„° ê²€ìƒ‰/ì¡°íšŒ | 1,545ê±´ | 23.7% |
| â“ ê³ ê° ì§€ì› | 1,526ê±´ | 23.4% |
| ğŸ† ìš°ìˆ˜ í™œìš© ì‚¬ë¡€ | 1,300ê±´ | 19.9% |
| ğŸ“ˆ í†µê³„/ì‹œê°í™” | 918ê±´ | 14.1% |
| ğŸ› ï¸ ë¶„ì„ ë„êµ¬ | 766ê±´ | 11.7% |
| ğŸ“š API ì„œë¹„ìŠ¤ | 416ê±´ | 6.4% |
| ğŸ“Š ë°ì´í„° ì¹´íƒˆë¡œê·¸ | 47ê±´ | 0.7% |
| ğŸ’¡ ë°ì´í„° í™œìš© | 7ê±´ | 0.1% |

### í’ˆì§ˆ ì§€í‘œ
- **í‰ê·  ì§ˆë¬¸ ê¸¸ì´**: 19.9ì
- **í‰ê·  ë‹µë³€ ê¸¸ì´**: 104.7ì
- **í’ˆì§ˆ ì ìˆ˜**: 100/100
- **ì¤‘ë³µ**: 0ê±´

### ì‚¬ìš© ë°©ë²•
```bash
cd bigdata_portal_learning
python3 generators/data_generator.py
```

### í’ˆì§ˆ ê²€ì¦
```bash
python3 generators/quality_validator.py
```

## ğŸ“ ë°ì´í„° í˜•ì‹

### JSONL í˜•ì‹ (í•™ìŠµìš©)
```json
{
  "instruction": "CDM ë°ì´í„° ì‹ ì²­ ë°©ë²•ì€?",
  "input": "",
  "output": "2025ë…„ 2ì›”ë¶€í„° ìƒì‹œ ì‹ ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. opendata.hira.or.krì—ì„œ ì‹ ì²­í•˜ê±°ë‚˜..."
}
```

### JSON í˜•ì‹ (ê²€í† ìš©, ë©”íƒ€ë°ì´í„° í¬í•¨)
```json
{
  "instruction": "CDM ë°ì´í„° ì‹ ì²­ ë°©ë²•ì€?",
  "input": "",
  "output": "2025ë…„ 2ì›”ë¶€í„° ìƒì‹œ ì‹ ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤...",
  "metadata": {
    "menu": "cdm",
    "menu_name": "ê³µí†µë°ì´í„°ëª¨ë¸(CDM)",
    "topic": "cdm_application",
    "topic_name": "CDM ì‹ ì²­ ë°©ë²•",
    "type": "variant"
  }
}
```

## ğŸ“ LoRA í•™ìŠµ í™œìš©

### ë‹¨ì¼ ë°ì´í„°ì…‹ í•™ìŠµ
```bash
# HIRA ì˜¤í”ˆë°ì´í„°ë§Œ ì‚¬ìš©
cp output/hira_opendata_train.jsonl ../cleaned_data/

# ë˜ëŠ” ë¹…ë°ì´í„°ê°œë°©í¬í„¸ë§Œ ì‚¬ìš©
cp output/bigdata_portal_train.jsonl ../cleaned_data/
```

### í†µí•© ë°ì´í„°ì…‹ í•™ìŠµ (ê¶Œì¥)
```bash
# ë‘ ë°ì´í„°ì…‹ í†µí•© (ì´ 17,025ê±´)
cat output/hira_opendata_train.jsonl output/bigdata_portal_train.jsonl > output/combined_train.jsonl

# í•™ìŠµ íŒŒì´í”„ë¼ì¸
python3 ../01_data_cleaning.py
python3 ../02_train_with_validation.py
python3 ../04_evaluate_model.py
```

### ì˜ˆìƒ ì„±ëŠ¥

| ë°ì´í„°ì…‹ | ê·œëª¨ | BLEU | Hallucination | íŠ¹ì§• |
|---------|------|------|---------------|------|
| HIRA ì˜¤í”ˆë°ì´í„° | 10,500ê±´ | 0.60-0.65 | 15-20% | HIRA ì „ë¬¸ |
| ë¹…ë°ì´í„°ê°œë°©í¬í„¸ | 6,525ê±´ | 0.60-0.65 | 15-20% | ì¼ë°˜ í¬í„¸ |
| **í†µí•©** | **17,025ê±´** | **0.65-0.70** | **10-15%** | **ë²”ìš©ì„± â­** |

## ğŸ”§ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### HIRA ì˜¤í”ˆë°ì´í„° ì£¼ì œ ì¶”ê°€

`config/hira_opendata_structure.yaml` í¸ì§‘:
```yaml
menus:
  medical_statistics:
    topics:
      - id: "new_topic"
        name: "ìƒˆë¡œìš´ ì£¼ì œ"
        keywords: ["í‚¤ì›Œë“œ1", "í‚¤ì›Œë“œ2"]
        core_qa:
          - q: "ì§ˆë¬¸"
            a: "ë‹µë³€"
```

### ë¹…ë°ì´í„°ê°œë°©í¬í„¸ ì£¼ì œ ì¶”ê°€

`config/menu_structure.yaml` í¸ì§‘:
```yaml
menus:
  data_search:
    topics:
      - id: "new_topic"
        name: "ìƒˆë¡œìš´ ì£¼ì œ"
        keywords: ["í‚¤ì›Œë“œ1", "í‚¤ì›Œë“œ2"]
```

## ğŸš€ ê³ ê¸‰ ê¸°ëŠ¥

### HIRA ì˜¤í”ˆë°ì´í„° ìƒì„± íŒŒë¼ë¯¸í„° ì¡°ì •
```python
# generators/hira_opendata_generator.py
# ì£¼ì œë³„ ëª©í‘œ ê°œìˆ˜ ì¡°ì •
generator.generate(target_per_topic=5000)  # ê¸°ë³¸: 3,000
```

### ë³€í˜• ìƒì„± ê¸°ë²• (HIRA ì˜¤í”ˆë°ì´í„°)
1. **ì–´ë¯¸ ë³€í˜•**: í•˜ë‚˜ìš” â†’ í•´ìš”, í• ê¹Œìš”, í•©ë‹ˆê¹Œ
2. **ì§ˆë¬¸í˜•ì‹ ë³€í˜•**: "ì–´ë–»ê²Œ í•˜ë‚˜ìš”" â†’ "ë°©ë²•ì€"
3. **ë™ì˜ì–´ ì¹˜í™˜**: ì‹ ì²­ â†’ ìš”ì²­, ë“±ë¡
4. **ì¡°ì‚¬ ë³€í˜•**: ì€/ëŠ”, ì´/ê°€ êµì²´
5. **ì¶•ì•½/í™•ì¥**: "ì–´ë–»ê²Œ í•˜ë‚˜ìš”" â†’ "ë°©ë²•ì€"
6. **ë‹¨ì–´ìˆœì„œ ë³€ê²½**: "Aì™€ B ì°¨ì´" â†’ "Bì™€ A ì°¨ì´"
7. **ì˜ë¬¸ì‚¬ ë³€í˜•**: ë­”ê°€ìš” â†’ ë¬´ì—‡ì¸ê°€ìš”
8. **ì ‘ë‘/ì ‘ë¯¸ì‚¬ ì¶”ê°€**: "í˜¹ì‹œ", "ê¶ê¸ˆí•©ë‹ˆë‹¤"
9. **ì¡´ëŒ“ë§/ë°˜ë§ ë³€í™˜**: í•˜ë‚˜ìš” â†’ í•´
10. **ë¶€ê°€í‘œí˜„ ì¶”ê°€**: ì¡°íšŒ â†’ ì¡°íšŒ ë° ê²€ìƒ‰

## ğŸ“ˆ í™•ì¥ ê³„íš

### Phase 2: GPT ê¸°ë°˜ ì¦ê°• (ì„ íƒ)
```bash
# 30,000ê±´ ì´ìƒìœ¼ë¡œ í™•ì¥
python3 ../05_data_augmentation.py \
  --input output/combined_train.jsonl \
  --output output/combined_train_augmented.jsonl \
  --method gpt4 \
  --api_key YOUR_API_KEY \
  --target 30000
```

**ì˜ˆìƒ ë¹„ìš©**: $10-20
**ì˜ˆìƒ ì„±ëŠ¥**: BLEU 0.70-0.75, Hallucination 5-10%

### Phase 3: ì½”ì–´ Q&A í™•ì¥
- í˜„ì¬: ì£¼ì œë‹¹ í‰ê·  2~5ê°œ ì½”ì–´ Q&A
- ëª©í‘œ: ì£¼ì œë‹¹ 10~20ê°œ
- ì˜ˆìƒ ê²°ê³¼: 50,000~100,000ê±´

## ğŸ“Š í’ˆì§ˆ ë³´ì¦

### ê²€ì¦ í•­ëª©
- âœ… ì¤‘ë³µ ì œê±° (0ê±´)
- âœ… í…œí”Œë¦¿ ë¯¸ì¹˜í™˜ ì²´í¬ (0ê±´)
- âœ… ê¸¸ì´ ê²€ì¦ (ì ì ˆ)
- âœ… ë‹¤ì–‘ì„± ë¶„ì„ (ìš°ìˆ˜)
- âœ… ë¹ˆ ê°’ ì²´í¬ (0ê±´)
- âœ… ë©”íƒ€ë°ì´í„° ì¶”ì  ê°€ëŠ¥

### í’ˆì§ˆ ê°œì„  ê³„íš
1. **í’ˆì§ˆ í•„í„° ì¶”ê°€**: ìµœì†Œ ê¸¸ì´, ë¬¸ë²• ê²€ì¦
2. **ë³€í˜• ê·œì¹™ ê°œì„ **: ë¬¸ë§¥ ë³´ì¡´, ì¡°ì‚¬ ìë™ ì¡°ì •
3. **ìˆ˜ë™ ê²€í† **: ì €í’ˆì§ˆ ë°ì´í„° í•„í„°ë§

## ğŸ“ ì£¼ìš” ì—°ë½ì²˜

### HIRA (ê±´ê°•ë³´í—˜ì‹¬ì‚¬í‰ê°€ì›)
- **ë¹…ë°ì´í„°ì „ëµë¶€**: 033-739-1041, 1088
- **CDM ë‹´ë‹¹**: cdm@hira.or.kr
- **ê³ ê°ì„¼í„°**: 1644-2000
- **ì›¹ì‚¬ì´íŠ¸**: https://opendata.hira.or.kr

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- **README_HIRA_OPENDATA.md**: HIRA ì˜¤í”ˆë°ì´í„° í¬í„¸ ìƒì„¸ ë¬¸ì„œ
- **../SUMMARY.md**: HIRA í”„ë¡œì íŠ¸ í•µì‹¬ ìš”ì•½
- **../README_EXECUTION_GUIDE.md**: ì‹¤í–‰ ê°€ì´ë“œ
- **../improvement_plan.md**: ìƒì„¸ ê°œì„  ê³„íš

## âœ¨ í•µì‹¬ ì„±ê³¼

### HIRA ì˜¤í”ˆë°ì´í„° í¬í„¸
- âœ… **7ê°œ ì£¼ìš” ë©”ë‰´** ì „ì²´ ì»¤ë²„
- âœ… **31ê°œ ì„¸ë¶€ ì£¼ì œ** í¬í•¨
- âœ… **10,500ê±´** ê³ í’ˆì§ˆ í•™ìŠµ ë°ì´í„°
- âœ… **10ê°€ì§€ ë³€í˜• ê¸°ë²•** ì ìš©
- âœ… **ë©”íƒ€ë°ì´í„°** í¬í•¨ìœ¼ë¡œ ì¶”ì  ê°€ëŠ¥

### ë¹…ë°ì´í„°ê°œë°©í¬í„¸
- âœ… **8ê°œ ë©”ë‰´** ì „ì²´ ë°˜ì˜
- âœ… **170ê°œ ì£¼ì œ** ì»¤ë²„
- âœ… **6,525ê±´** ê³ í’ˆì§ˆ í•™ìŠµ ë°ì´í„°
- âœ… **100/100** í’ˆì§ˆ ì ìˆ˜ ë‹¬ì„±
- âœ… **0ê±´** ì¤‘ë³µ

### í†µí•©
- âœ… **ì´ 17,025ê±´** í•™ìŠµ ë°ì´í„°
- âœ… **201ê°œ ì£¼ì œ** ì»¤ë²„
- âœ… LoRA í•™ìŠµ ì¦‰ì‹œ ê°€ëŠ¥
- âœ… ë²”ìš©ì„±ê³¼ ì „ë¬¸ì„± ë™ì‹œ í™•ë³´

## ğŸ¯ ì‚¬ìš© ê°€ì´ë“œ

### ë¹ ë¥¸ ì‹œì‘
```bash
# 1. HIRA ì˜¤í”ˆë°ì´í„° ìƒì„±
python3 generators/hira_opendata_generator.py

# 2. ë¹…ë°ì´í„°ê°œë°©í¬í„¸ ìƒì„±
python3 generators/data_generator.py

# 3. í†µí•© ë°ì´í„° ìƒì„±
cat output/hira_opendata_train.jsonl output/bigdata_portal_train.jsonl > output/combined_train.jsonl

# 4. ë°ì´í„° í™•ì¸
wc -l output/*.jsonl
head -3 output/combined_train.jsonl | jq .
```

### ë°ì´í„° í’ˆì§ˆ ê²€ì¦
```bash
# ë¹…ë°ì´í„°ê°œë°©í¬í„¸ ë°ì´í„° ê²€ì¦
python3 generators/quality_validator.py

# ì¤‘ë³µ ì²´í¬
sort output/combined_train.jsonl | uniq -d | wc -l
```

### LoRA í•™ìŠµ
```bash
# í†µí•© ë°ì´í„°ë¡œ í•™ìŠµ
cp output/combined_train.jsonl ../cleaned_data/
cd ..
python3 01_data_cleaning.py
python3 02_train_with_validation.py
```

## ğŸ“„ ë¼ì´ì„¼ìŠ¤

ë³¸ í”„ë¡œì íŠ¸ëŠ” ë³´ê±´ì˜ë£Œ ë¹…ë°ì´í„° í¬í„¸ì˜ ê³µê³µ ë°ì´í„° í™œìš©ì„ ìœ„í•œ í•™ìŠµ ë°ì´í„° ìƒì„± ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.

---

**ìƒì„± ì¼ì‹œ**: 2025-11-17
**ì´ ë°ì´í„°**: 17,025ê±´ (HIRA 10,500 + ì¼ë°˜í¬í„¸ 6,525)
**ìƒíƒœ**: âœ… LoRA í•™ìŠµ ì¤€ë¹„ ì™„ë£Œ
