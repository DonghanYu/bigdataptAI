# HIRA 학습 데이터셋 v2.0 (개선판)

## 📊 개선 개요

- **개선 일시**: 2025-11-19T08:54:09.719476
- **원본 데이터**: 1,423개
- **개선 후 데이터**: 444개
- **제거된 항목**: 979개 (68.8%)
- **유지율**: 31.2%

## 🔍 발견된 문제점

### 1. 질문-답변 불일치
- **발견**: 341개 (24.0%)
- **조치**: 불일치 항목 필터링 제거
- **예시**: 질문에서 "OLAP"을 묻는데 답변에 OLAP 관련 내용 없음

### 2. 과도한 답변 재사용
- **발견**: 219개 중복 답변
- **조치**: 5회 이상 재사용된 답변의 중복 항목 제거
- **효과**: 모델의 답변 다양성 향상

### 3. Input 필드 미사용
- **발견**: 1423개 빈 Input 필드
- **조치**: 메뉴별 컨텍스트 정보 추가
- **효과**: Instruction + Context 형태로 개선

## ✅ 개선 결과

### 필터링
- **불일치 제거**: 341개
- **중복 답변 제거**: 638개

### 컨텍스트 추가
- **컨텍스트 추가**: 444개
- **컨텍스트 포함률**: 100.0%

## 📋 최종 데이터셋 통계

### 데이터 분할
- **Train**: 372개
- **Val**: 30개
- **Test**: 42개
- **Total**: 444개

### 텍스트 통계
- **질문 평균 길이**: 15.3자
- **답변 평균 길이**: 84.8자

## 📁 파일 구조

```
improved_data/
├── hira_improved_dataset.json     # 전체 통합 데이터
├── improvement_report.json        # 개선 리포트
├── README.md                       # 이 파일
└── splits/                         # Split별 데이터
    ├── train.json
    ├── val.json
    ├── test.json
    └── train.jsonl                 # 학습용 JSONL
```

## 📖 데이터 형식

```json
{
  "id": "hira_menu_xxxxx",
  "instruction": "질문 내용",
  "input": "메뉴별 컨텍스트 정보",
  "output": "답변 내용",
  "split": "train|val|test",
  "metadata": {
    "menu": "메뉴 ID",
    "menu_name": "메뉴 이름",
    "generation_method": "생성 방법",
    "improved": true,
    "improvement_date": "개선 날짜",
    ...
  }
}
```

## 🚀 사용 방법

### Python으로 로드
```python
import json

# 전체 통합 데이터 로드
with open('hira_improved_dataset.json', 'r', encoding='utf-8') as f:
    data = json.load(f)

# 학습 데이터만 로드
with open('splits/train.json', 'r', encoding='utf-8') as f:
    train_data = json.load(f)
```

## 📝 개선 전후 비교

| 항목 | v1.0 (개선 전) | v2.0 (개선 후) |
|------|---------------|---------------|
| 총 데이터 | 1,423개 | 444개 |
| Q&A 불일치 | 341개 | 0개 ✓ |
| 중복 답변 (5회 이상) | 있음 | 제거됨 ✓ |
| Input 필드 사용 | 0% | 100.0% ✓ |
| 데이터 품질 | 중간 | 높음 ✓ |

---

*Generated by HIRA Dataset Improver v2.0*
*2025-11-19T08:54:09.719476*
